<html>
  <script src="https://d3js.org/d3.v4.min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/geotiff'></script>
<title>Rainfall in Africa</title>

<header style="font-size: 15pt; color: #42403f; text-align: center;">Hypothesis: In Africa from 2000 to 2010, rainfall increases </header>
<header style="font-size: 12pt; color: #42403f; text-align: left;">Data of rainfall is taken in January, 2000 and January, 2010 in by <a href="https://neo.gsfc.nasa.gov/view.php?datasetId=TRMM_3B43M&year=2000">https://neo.gsfc.nasa.gov/</a>. Rainfall data is for the mentioned month and may not be indicitive of wider trends.</header>
<header style="font-size: 12pt; color: #42403f; text-align: left;"><a href="https://geojson-maps.ash.ms/">Africa GEOJSON source</a></header>

<style>
  body {
    background-color: whitesmoke;
    margin: 1em auto;
    margin-left: 30px;
    width: 1600px;
  }
  svg {
    background-color: whitesmoke;
  }
  path.africa {
    fill: whitesmoke;
    stroke: #969696;
    stroke: #000000;
  }
</style>

<body>
    <div id='vis'></div>
    <script>
    var w = 700;
    var h = 800;

      var map = d3.json("https://raw.githubusercontent.com/zuke0000/Data-Visualization/main/Africa.geojson", function(error, map) {
        let svg = d3.select("body")
        .append("svg")
        .attr("width", w)
        .attr("height", h);
        
        if (error) return console.error(error)

        let projection = d3.geoMercator().center([-100,35]) // Alternative, prolly doesnt matter,  remove parallels if using
        //let projection = d3.geoAlbers()
          .center([8.7, 34.5085])
          .rotate([8.7, 34.5085])
          .scale(300)
          .translate([w / 2, h / 2])

          var myColor = d3.scaleSequential()
          .interpolator(d3.interpolateRgb("lightblue", "red"))
          .domain([0,16])

        svg.selectAll("path")
          .data(map.features)
          .enter().append("path")
          .attr("class", "africa")
          .attr("d", d3.geoPath().projection(projection))

      });

      async function renderVis() {
        let tiff = await d3.buffer('elevations.tif')
        .then(buffer => GeoTIFF.fromArrayBuffer(buffer));
        let image = await tiff.getImage();
        let rasters = await image.readRasters();
        let values = rasters[0];
        let w = image.getWidth(), h = image.getHeight();
      }
      renderVis();

      

    </script>
</body>
</html>